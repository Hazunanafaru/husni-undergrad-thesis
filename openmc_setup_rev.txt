# INSTALL PYTHON REQUIREMENTS
cd ~/iter-tritium-breeding-xgboost
pip3 install -U -r jupyter-notebooks/requirements.txt

# INSTALL LAPACK AND BLAS
sudo apt-get install libblas-dev liblapack-dev -y

# INSTALL CMAKE
sudo apt install cmake -y

# INSTALL EIGEN3
sudo apt-get install libeigen3-dev -y

# INSTALL HDF5
sudo apt-get install libhdf5-dev -y

# INSTALL MOAB

cd /
sudo mkdir /MOAB
cd /MOAB
sudo git clone -b Version5.1.0 https://bitbucket.org/fathomteam/moab/
cd /MOAB
sudo mkdir /MOAB/build
cd /MOAB/build
sudo cmake ../moab -DENABLE_HDF5=ON -DBUILD_SHARED_LIBS=ON -DCMAKE_INSTALL_PREFIX=/MOAB -DENABLE_PYMOAB=ON
make
make test install
cd pymoab
python3 setup.py install
env LD_LIBRARY_PATH=/MOAB/lib:$LD_LIBRARY_PATH

# INSTALL DAGMC

cd /
mkdir /DAGMC
cd /DAGMC
git clone -b develop https://github.com/svalinn/dagmc
cd /DAGMC
mkdir /DAGMC/build
cd /DAGMC/build
cmake ../dagmc -DBUILD_TALLY=ON -DCMAKE_INSTALL_PREFIX=/DAGMC -DMOAB_DIR=/MOAB -DBUILD_STATIC_LIBS=OFF
make install
rm -rf /DAGMC/dagmc
env LD_LIBRARY_PATH=//DAGMC/lib:$LD_LIBRARY_PATH

# %env FC=mpif90
# %env CC=mpicc

# INSTALL OPENMC (FROM DIFFERENT SOURCE)

cd /
git clone https://github.com/openmc-dev/openmc.git
cd /openmc
mkdir /openmc/build
cd /openmc/build
cmake -Ddagmc=ON -DCMAKE_PREFIX_PATH=/DAGMC ..
make
make install
PATH="$PATH:/openmc/build/bin"
cp /openmc/build/bin/openmc /usr/local/bin

cd /content/openmc
pip install .